<!DOCTYPE html>
<html>
<head>
    <title>File API - FileReader as Text</title>
</head>
<body>
    <header>
        <h1>File API - FileReader (Text)</h1>
    </header>
    <article>
        <label for="files">Select a file: </label>
        <input type="file" id="files" name="files[]" multiple />
	<div id = "container" style = "width: 550px; height: 400px; margin: 0 auto"></div>
<script language = "JavaScript">
function handleFileSelect(evt) {
    var files = evt.target.files; // FileList object

    // files is a FileList of File objects. List some properties.
    var output = [];
    for (var i = 0, f; f = files[i]; i++) {
var reader = new FileReader();
      
reader.onload = (function(theFile) {
        return function(e) {
	output.push(e.target.result);
          
          //document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
        };
      })(f);
reader.readAsText(f);
    }//fim for
    //document.getElementById('list').innerHTML = '<ul>' + output.join('') + '</ul>';
  var json = JSON.parse(output.join(''));
var chart = {
               type: 'spline'
            };
	
            

            var tooltip = {
               valueSuffix: '\xB0C'
            };
            var legend = {
               layout: 'vertical',
               align: 'right',
               verticalAlign: 'middle',
               borderWidth: 0
            };
		var plotOptions = {
               spline: {
                  dataLabels: {
                     enabled: false
                  },   
                  enableMouseTracking: true
               }
            };
            
            
            json.chart = chart;
            
            
            
            json.tooltip = tooltip;
            json.legend = legend;
            json.plotOptions = plotOptions;
            

            $('#container').highcharts(json);
}//fim funçao

  document.getElementById('files').addEventListener('change', handleFileSelect, false);
 </script>
    </article>
</body>
</html>